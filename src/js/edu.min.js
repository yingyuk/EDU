"use strict";(function(a){if(!!getCookie("forbid")){util.addClass(a,"f-dn");}Event.addHandler(a.querySelector(".forbid"),"click",function(){setCookie("forbid","forbidvalue",100);
util.addClass(a,"f-dn");});})(document.querySelector(".m-tips"));(function(){var n=["^.{6,16}$"];var l=["[a-zA-Z]","[0-9]","^.{6,16}$"];var a=document.querySelector(".m-follow");
var p=document.querySelector(".m-login");var t=a.querySelector(".u-followBtn");var r=p.querySelector(".close");var u=p.querySelector(".u-loginBtn");var k=p.querySelectorAll(".u-txt")[0];
var b=p.querySelectorAll(".u-txt")[1];var w=a.querySelector(".followed");var e=a.querySelector(".cancel");var B=a.querySelector(".fansNum");g();function g(){Event.addHandler(t,"click",function(){console.log("账号是:studyOnline,密码是:study.163.com");
E();});Event.addHandler(u,"click",function(){q();});Event.addHandler(r,"click",function(){s();});Event.addHandler(k,"focus",function(){f(k);});Event.addHandler(k,"blur",function(){j(k);
i(k);});Event.addHandler(b,"focus",function(){f(b);x(u,false);});Event.addHandler(b,"blur",function(){i(b);});Event.addHandler(e,"click",function(){o();
});}v();function v(){if(!!getCookie("followSuc")){C();}}function E(){if(!!getCookie("loginSuc")){z();}else{m();}}function m(){util.delClass(p,"f-vh");}function c(){util.addClass(p,"f-vh");
}function s(){c();}function j(I){var K=[];if(I==b){K=l;}else{if(I==k){K=n;}}var J=I.value,F=K.length;for(var H=0;H<F;H++){var G=RegExp(K[H]);if(!G.test(J)){D(I);
return false;}}return true;}function D(F){util.addClass(F,"inputErr");}function f(F){d(F);A(F);}function d(F){util.delClass(F,"inputErr");}function A(F){util.addClass(F,"z-active");
}function i(F){util.delClass(F,"z-active");}function q(){if(!j(b)){Event.preventDefault(event);return;}if(!j(k)){Event.preventDefault(event);return;}x(u,true);
var F=hex_md5(k.value);var G=hex_md5(b.value);get("http://study.163.com/webDev/login.htm",{userName:F,password:G},function(H){if(H==1){z();}else{y();}});
}function x(G,F){G.disabled=!!F;if(!!F){util.addClass(G,"z-disabled");}else{util.delClass(G,"z-disabled");}}function z(){c();x(u,false);setCookie("loginSuc","loginSucValue",100);
h();}function y(){D(b);}function h(){get("http://study.163.com/webDev/attention.htm","",function(F){if(F==1){C();}else{alert("发生未知错误,关注失败!");}});}function C(){setCookie("followSuc","followSucValue",100);
util.addClass(t,"f-dn");util.delClass(w,"f-dn");(B.textContent++)||(B.innerText++);}function o(){util.addClass(w,"f-dn");util.delClass(t,"f-dn");removeCookie("followSuc");
(B.textContent--)||(B.innerText--);}})();(function(){var b='<div class="m-sld" >        <div class="m-cursor"></div></div>';function a(d){util.extend(this,d);
this.container=this.container||document.body;this.container.style.overflow="hidden";this.slider=this._layout.cloneNode(true);this.cursor=this.slider.querySelector(".m-cursor");
this.pageNum=this.images.length;this.pageIndex=0;this.container.appendChild(this.slider);this._initial();}util.extend(a.prototype,{_layout:util.html2node(b),_initial:function(){this._addNode(this.pageNum);
this.slds=[].slice.call(this.slider.querySelectorAll(".sld"));this.cursors=[].slice.call(this.cursor.querySelectorAll(".cursor"));this._addEvent();this._autoPlay();
},_addNode:function(f){for(var g=0;g<f;g++){var e=document.createElement("img"),d=document.createElement("a"),h=document.createElement("div");e.src=this.images[g];
e.alt="banner";d.href=this.href[g];d.target=this.target;d.appendChild(e);h.appendChild(d);h.className="sld";this.slider.insertBefore(h,this.cursor);var j=document.createElement("i");
j.className="cursor";j.index=g;this.cursor.appendChild(j);}},_addEvent:function(){var d=this;this.cursors.forEach(function(e){Event.addHandler(e,"click",function(){d.nav(e.index);
});});Event.addHandler(this.cursor,"mouseover",function(){clearInterval(d.timer);});this.slds.forEach(function(e){Event.addHandler(e,"mouseover",function(){clearInterval(d.timer);
});Event.addHandler(e,"mouseout",function(){d._autoPlay();});});},_autoPlay:function(){var d=this;d.timer=setInterval(function(){d.pageIndex++;d.pageIndex%=3;
d.nav(d.pageIndex);},5000);},nav:function(d){this.pageIndex=d;this._calcSlide();},_calcSlide:function(){this.slds.forEach(function(d){util.delClass(d,"z-crt");
});util.addClass(this.slds[this.pageIndex],"z-crt");this._active();},_active:function(){var d=this.pageIndex;this.cursors.forEach(function(f,e){util.delClass(f,"z-crt");
if(e===d){util.addClass(f,"z-crt");}});}});var c=new a({container:document.querySelector(".g-sld"),images:["./images/banner1.jpg","./images/banner2.jpg","./images/banner3.jpg"],href:["http://open.163.com/","http://study.163.com","http://www.icourse163.org/"],target:["_blank"],});
c.nav(0);})();(function(){var f=document.querySelector(".m-tab");var b=document.querySelector(".m-page");var e=document.querySelector(".m-courses");function a(i){util.extend(this,i);
this.container=this.container||document.body;this.name=this.name;this._initial();}util.extend(a.prototype,emitter);util.extend(a.prototype,{_initial:function(){this._layout();
this._Event();},_layout:function(){var l=this.name;var j=l.length;for(var m=0;m<j;m++){var k=document.createElement("div");k.innerText=l[m];k.textContent=l[m];
k.className="tab";this.container.appendChild(k);}this.tabs=[].slice.call(this.container.querySelectorAll(".tab"));},_Event:function(){var i=this;this.tabs.forEach(function(k,j){Event.addHandler(k,"click",function(){i._check(k);
i.emit("click",{btn:k,type:i.type[j],url:i.url,});});});},click:function(i){this.emit("click",{btn:this.tabs[i],type:this.type[i],url:this.url,});this._check(this.tabs[i]);
},_check:function(k){for(var j=0;j<this.tabs.length;j++){util.delClass(this.tabs[j],"crt");}util.addClass(k,"crt");},});function h(i){util.extend(this,i);
this.url=this.url||"";this.pageNo=this.pageNo||1;this.size=this.size||12;this.type=this.type||10;this._initial();}util.extend(h.prototype,emitter);util.extend(h.prototype,{_initial:function(){this._size();
this.get();},_size:function(){if(document.body.offsetWidth>=1205||document.body.firstChild.offsetWidth>=1205){this.size=this.wide||20;}else{this.size=this.narrow||15;
}},get:function(){var i=this;get(this.url,{pageNo:this.pageNo,psize:this.size,type:this.type},function(j){i.data=JSON.parse(j);i.emit("get",{data:i.data,url:i.url,pageNO:i.pageNO,wide:i.wide,narrow:i.narrow,type:i.type,len:i.data.pagination.totlePageCount,pageIndex:i.data.pagination.pageIndex});
});},});function d(i){util.extend(this,i);this.data=this.data;this.container=this.container;this._initial();}util.extend(d.prototype,{_initial:function(){this._clear(this.container);
this._compute(this.data);},_clear:function(i){while(i.childNodes.length>0){i.removeChild(i.firstChild);}},_compute:function(l){var k=l.list;for(var j=0;
j<k.length;j++){this._analytical(k[j]);}},_analytical:function(n){var p=n.middlePhotoUrl,j=n.name,o=n.provider,i=n.learnerCount,l=n.price,m=n.categoryName,k=n.description;
l=!l?"免费":"&yen;"+Number(l).toFixed(2);m=!m?"无":m;this._appendChild(p,j,o,i,l,m,k);},_appendChild:function(m,i,o,n,k,j,p){var q='<img class="img" src="'+m+'">            <p class="name f-toe">'+i+'</p>            <div class="provider">'+o+'</div>            <div class="learnerCount"><span>'+n+'</span></div>            <div><strong class="price">'+k+'</strong></div>            <div class="detail">                <div class="up f-cb">                    <img class="img f-fl" src="'+m+'">                    <div class="cnt f-fl">                        <p class="name">'+i+'</p>                        <span class="learnerCount">'+n+'人在学</span>                        <div class="provider">发布者：'+o+'</div>                        <div class="categoryName">分类：'+j+'</div>                    </div>                </div>                    <p class="description">'+p+"</p>            </div>";
var l=document.createElement("div");l.className="course f-fl";l.innerHTML=q;this.container.appendChild(l);},});function c(i){util.extend(this,i);this.group=0;
this.index=1;this._initial();}util.extend(c.prototype,emitter);util.extend(c.prototype,{_initial:function(){this.nav(1);this._check();},_groupCalcula:function(j){var i=Math.floor((j-1)/(this.maxLength));
if(this.group!=i){this.group=i;}this._appendChild(this.group);},nav:function(i){if(this.index==i){return;}this.emit("nav",{pageIndex:i});},_appendChild:function(j){while(this.container.childNodes.length>0){this.container.removeChild(this.container.firstChild);
}var m=j*this.maxLength+1;var l=(j+1)*this.maxLength;if(l>=this.length){l=this.length;m=this.length-this.maxLength;m=m>0?m:1;}this._createBtn("prev");if(this.group!=0){this._create(1);
this._createBtn("...",true);}for(var k=m;k<=l;k++){this._create(k);if(k==l&&l!=this.length){this._createBtn("...",true);this._create(this.length);}}this._createBtn("next");
this.pages=[].slice.call(this.container.querySelectorAll(".pageNo"));},_create:function(i){var j=document.createElement("a");j.className="pageNo";j.textContent=i;
j.innerText=i;j.index=i;var k=this;Event.addHandler(j,"click",function(){k.nav(j.index);});this.container.appendChild(j);},_createBtn:function(i){var j=document.createElement("button");
var k=this;if(i=="prev"){j.className=i;Event.addHandler(j,"click",function(){if(k.index>1){k.nav(k.index-1);}});this.prev=j;}else{if(i=="next"){j.className=i;
Event.addHandler(j,"click",function(){if(k.index<k.length){k.nav(k.index+1);}});this.next=j;}else{j.className="ellipsis";j.textContent="...";j.innerText="...";
j.disabled=true;}}this.container.appendChild(j);},_disablePage:function(j,i){if(i){util.addClass(j,"js-disabled");}else{util.delClass(j,"js-disabled");
}j.disabled=!!i;},_check:function(){this._groupCalcula(this.index);if(this.index==1){this._disablePage(this.prev,true);}else{this._disablePage(this.prev,false);
}if(this.index==this.length){this._disablePage(this.next,true);}else{this._disablePage(this.next,false);}var i=this;this.pages.forEach(function(j){util.delClass(j,"select");
if(j.textContent==i.index){util.addClass(j,"select");}});},});var g=new a({container:f,type:[10,20],name:["产品设计","编程语言"],url:"http://study.163.com/webDev/couresByCategory.htm",});
g.on("click",function(j){var i=new h({url:j.url,type:j.type,pageNO:1,wide:20,narrow:15,});i.on("get",function(l){var k=new d({data:l.data,container:e,});
var n=new c({maxLength:8,length:l.len,container:b,});var m=l;n.on("nav",function(p){var o=new h({url:m.url,pageNo:p.pageIndex,wide:m.wide,narrow:m.narrow,type:m.type,});
var q=this;o.on("get",function(s){q.index=s.pageIndex;q._check();var r=new d({data:s.data,container:e,});});});});});g.click(0);})();(function(b){var d=b.querySelector(".video-mask");
var m=document.querySelector(".videoc");var l=m.querySelector(".close");var a=m.querySelector(".mask");var c=m.getElementsByTagName("video")[0];Event.addHandler(d,"click",function(){util.delClass(m,"f-vh");
j(c);});Event.addHandler(c,"click",function(){k(c);});Event.addHandler(c,"dblclick",function(n){h(c);});Event.addHandler(l,"click",function(){util.addClass(m,"f-vh");
i(c);});Event.addHandler(a,"click",function(){util.addClass(m,"f-vh");i(c);});Event.addHandler(c,"ended",function(){e(c);});Event.addHandler(document,"keydown",function(n){if(n.keyCode==13){h(c);
}if(n.keyCode==27){if(!g()){util.addClass(m,"f-vh");i(c);}}});function j(n){n.play();}function i(n){n.pause();}function k(n){if(n.paused){n.play();}else{n.pause();
}}function h(n){if(g()){e(n);}else{f(n);}}function f(n){if(n.requestFullscreen){n.requestFullscreen();}else{if(n.webkitRequestFullscreen){n.webkitRequestFullscreen();
}else{if(n.mozRequestFullScreen){c.mozRequestFullScreen();}}}}function e(n){if(document.exitFullscreen){document.exitFullscreen();}else{if(document.webkitCancelFullScreen){document.webkitCancelFullScreen();
}else{if(document.mozCancelFullScreen){document.mozCancelFullScreen();}}}}function g(){if(document.mozFullScreenElement&&document.mozFullScreenElement.nodeName=="VIDEO"){return true;
}else{if(document.webkitFullscreenElement&&document.webkitFullscreenElement.nodeName=="VIDEO"){return true;}else{if(document.msFullscreenElement&&document.msFullscreenElement.nodeName=="VIDEO"){return true;
}}}return false;}})(document.querySelector(".m-intro"));(function(c){var e=c.querySelector(".hotc");d();function d(){a();}function a(){var i="http://study.163.com/webDev/hotcouresByCategory.htm";
get(i,"",function(k){var j=JSON.parse(k);h(j);});}function h(k){while(e.childNodes.length>0){e.removeChild(e.firstChild);}for(var j=0;j<k.length;j++){g(k,j);
}for(var j=0;j<10;j++){g(k,j);}f(k.length);}function f(i){var l=0;var n=70;var k=1000;e.style.transitionDuration=k+"ms";var m=setInterval(function(){j();
},5000);function j(){l-=n;e.style.top=l+"px";if(l==-i*n){setTimeout(function(){e.style.transitionDuration="0s";l=0;e.style.top="0px";},k+20);setTimeout(function(){e.style.transitionDuration=k+"ms";
},k+50);}}}function g(l,k){var m=l[k].smallPhotoUrl,j=l[k].name,i=l[k].learnerCount;b(m,j,i);}function b(m,j,i){var l='<img class="img f-fl" src="'+m+'" alt="">                        <h4 class="coursename f-toe">'+j+'</h4>                        <div class="learnerCount"><span >'+i+"</span></div>";
var k=document.createElement("a");k.className="hot f-cb";k.innerHTML=l;e.appendChild(k);}})(document.querySelector(".m-hot"));